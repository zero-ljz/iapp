% rebase('templates/base.html', title='计算器')

    <style>
      body {
        font-family: Arial, sans-serif;
        /*margin: 20px;*/
      }

      .input-group {
        margin-bottom: 10px;
      }

      .input-group label {
        display: inline-block;
        width: 250px;
      }

      .input-group input {
        width: 200px;
        padding: 5px;
        font-size: 16px;
      }

      .button-group button {
        margin-right: 10px;
        padding: 5px 10px;
      }

      #result {
        margin-top: 20px;
        font-weight: bold;
      }
    </style>

    
    <div id="calculator">
      <h3>计算器</h3>
      <input type="text" id="calc_result" readonly>
      <div id="buttons">
        <button class="number" onclick="appendValue('7')">7</button>
        <button class="number" onclick="appendValue('8')">8</button>
        <button class="number" onclick="appendValue('9')">9</button>
        <button class="operator" onclick="appendValue('+')">+</button><br/>
        <button class="number" onclick="appendValue('4')">4</button>
        <button class="number" onclick="appendValue('5')">5</button>
        <button class="number" onclick="appendValue('6')">6</button>
        <button class="operator" onclick="appendValue('-')">-</button><br/>
        <button class="number" onclick="appendValue('1')">1</button>
        <button class="number" onclick="appendValue('2')">2</button>
        <button class="number" onclick="appendValue('3')">3</button>
        <button class="operator" onclick="appendValue('*')">*</button><br/>
        <button class="number" onclick="appendValue('0')">0</button>
        <button class="number" onclick="appendValue('.')">.</button>
        <button class="operator" onclick="calculate()">=</button>
        <button class="operator" onclick="appendValue('/')">/</button>
        <button class="clear" onclick="clearInput()">Clear</button>
      </div>
    </div>


    <h3>百分比计算器</h3>

    <div class="input-group">
      <label for="value1">数值 1：</label>
      <input type="number" id="value1" placeholder="输入数值 1" />
    </div>

    <div class="input-group">
      <label for="value2">数值 2：</label>
      <input type="number" id="value2" placeholder="输入数值 2" />
    </div>

    <div class="input-group">
      <label for="percentage">百分比：</label>
      <input type="number" id="percentage" placeholder="输入百分比" />
    </div>

    <div class="button-group">
      <button onclick="calculatePercentageOf()">数值 1 的百分之 N 是多少</button>
      <button onclick="calculatePercentageFrom()">数值 1 是数值 2 的百分之几</button>
      <button onclick="calculatePercentageOfValue()">数值 1 是多少的百分之 N</button><div style="height:5px;"></div>
      <button onclick="calculatePercentageChange()">数值 1 到数值 2 的百分比变化</button>
      <button onclick="calculateIncrease()">数值 1 加上百分之 N 是多少</button>
      <button onclick="calculateDecrease()">数值 1 减去百分之 N 是多少</button>
    </div>

    <div id="result"></div>

    <script>



      function appendValue(value) {
        var input = document.getElementById('calc_result');
        input.value += value;
      }
  
      function calculate() {
        var input = document.getElementById('calc_result');
        var result = eval(input.value);
        input.value = result;
      }
  
      function clearInput() {
        var input = document.getElementById('calc_result');
        input.value = '';
      }








      function calculatePercentageOf() {
        var value1 = parseFloat(document.getElementById("value1").value);
        var percentage = parseFloat(document.getElementById("percentage").value);

        if (isNaN(value1) || isNaN(percentage)) {
          document.getElementById("result").textContent = "请输入有效的数值和百分比";
        } else {
          var result = (value1 * percentage) / 100;
          document.getElementById("result").textContent =
            "数值 1 的百分之 " + percentage + " 是 " + result.toFixed(2);
        }
      }

      function calculatePercentageFrom() {
        var value1 = parseFloat(document.getElementById("value1").value);
        var value2 = parseFloat(document.getElementById("value2").value);

        if (isNaN(value1) || isNaN(value2)) {
          document.getElementById("result").textContent = "请输入有效的数值";
        } else {
          var percentage = (value1 / value2) * 100;
          document.getElementById("result").textContent =
            "数值 1 是数值 2 的百分之 " + percentage.toFixed(2);
        }
      }

      function calculatePercentageOfValue() {
        var value1 = parseFloat(document.getElementById("value1").value);
        var percentage = parseFloat(document.getElementById("percentage").value);

        if (isNaN(value1) || isNaN(percentage)) {
          document.getElementById("result").textContent = "请输入有效的数值和百分比";
        } else {
          var result = value1 / (percentage / 100);
          document.getElementById("result").textContent =
            "数值 1 是 " + result.toFixed(2) + " 的百分之 " + percentage;
        }
      }

      function calculatePercentageChange() {
        var value1 = parseFloat(document.getElementById("value1").value);
        var value2 = parseFloat(document.getElementById("value2").value);

        if (isNaN(value1) || isNaN(value2)) {
          document.getElementById("result").textContent = "请输入有效的数值";
        } else {
          var percentageChange = ((value2 - value1) / value1) * 100;
          document.getElementById("result").textContent =
            "数值 1 到数值 2 的百分比变化是 " + percentageChange.toFixed(2) + "%";
        }
      }

      function calculateIncrease() {
        var value1 = parseFloat(document.getElementById("value1").value);
        var percentage = parseFloat(document.getElementById("percentage").value);

        if (isNaN(value1) || isNaN(percentage)) {
          document.getElementById("result").textContent = "请输入有效的数值和百分比";
        } else {
          var increase = value1 + (value1 * percentage) / 100;
          document.getElementById("result").textContent =
            "数值 1 加上百分之 " + percentage + " 是 " + increase.toFixed(2);
        }
      }

      function calculateDecrease() {
        var value1 = parseFloat(document.getElementById("value1").value);
        var percentage = parseFloat(document.getElementById("percentage").value);

        if (isNaN(value1) || isNaN(percentage)) {
          document.getElementById("result").textContent = "请输入有效的数值和百分比";
        } else {
          var decrease = value1 - (value1 * percentage) / 100;
          document.getElementById("result").textContent =
            "数值 1 减去百分之 " + percentage + " 是 " + decrease.toFixed(2);
        }
      }
    </script>
